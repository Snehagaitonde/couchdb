SET(SOURCES
  src/couch_audit.erl
  src/couch_audit_sup.erl
  src/memcached_calls.erl
  src/couch_audit_app.erl)

ADD_ERLANG_INCLUDE_DIR(${CMAKE_CURRENT_SOURCE_DIR}/../couch_dcp)
ADD_ERLANG_INCLUDE_DIR(${CMAKE_CURRENT_SOURCE_DIR}/../lhttpc)
ADD_ERLANG_INCLUDE_DIR(${CMAKE_CURRENT_SOURCE_DIR}/../couchdb)
ADD_ERLANG_INCLUDE_DIR(${CMAKE_CURRENT_SOURCE_DIR}/..)

ERL_BUILD_OTP (APPNAME "couch_audit" VERSION 1.0.0
  INSTALL_PATH ${CMAKE_ERL_LIB_INSTALL_PREFIX}
  SOURCES ${SOURCES} DEPENDS ${COUCHDB_ALL_ERLANG_HEADERS})
